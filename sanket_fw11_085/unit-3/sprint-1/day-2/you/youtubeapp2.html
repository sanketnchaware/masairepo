<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Youtube app 1</title>
    <style>
        * {
            /* border: 1px solid black; */
        }

        #navbar {
            display: flex;
            justify-content: space-between;

            align-items: center;
            border-bottom: 1px solid rgb(194, 192, 192);

        }

        #navbar div {
            display: flex;
            align-items: center;

        }

        #second {
            width: 60%;
        }

        #second input {
            width: 90%;
            margin: 0;
            height: 27px;
        }

        #navbar div:first-child,
        last-child {}

        img {
            margin: 0 1.2rem;
        }

        .yname {
            font-family: fantasy;
            font-size: 1.6rem;
        }
    </style>
</head>

<body>


    <nav id="navbar">
        <div><img src="https://img.icons8.com/ios-glyphs/30/000000/menu-rounded.png" />

            <img src="https://img.icons8.com/color/48/000000/youtube-play.png" />
            <span class="yname"> Youtube</span>
        </div>
        <div id="second">
            <input type="text" id="searchin" placeholder="Search">
            <button onclick="youtube()" class=""> <img
                    src="https://img.icons8.com/ios/30/000000/search--v1.png" /></button>
        </div>

        <div>
            <img src="https://img.icons8.com/material-rounded/24/000000/microphone.png" />
            <img src="https://img.icons8.com/ios-filled/50/000000/no-video--v2.png" />
            <img src="https://img.icons8.com/material-outlined/24/000000/squared-menu.png" />
            <img src="https://img.icons8.com/android/24/000000/appointment-reminders.png" />
        </div>

    </nav>


    <div id="data_div">

    </div>


</body>

</html>

<script>
    let div = document.getElementById("data_div");
    async function youtube() {
        div.innerHTML = null;
        let video = document.getElementById("searchin").value;
        let result = await fetch(
            `https://youtube.googleapis.com/youtube/v3/search?q=${video}&type=video&key=AIzaSyB3rRJKCb51GUs36AW1WbbnmRWGXzB5h-E&maxResults=20`
        );

        let data = await result.json();


        for ({
                id: {
                    videoId
                }
            } of data.items) {
            console.log(videoId);

            let frame = document.createElement("iframe");
            frame.src = `https://www.youtube.com/embed/${videoId}`;
            frame.allow = `fullscreen`
            div.appendChild(frame);


        }




    }



    async function showPopular() {
        div.innerHTML = null;
        let video = document.getElementById("searchin").value;
        let result = await fetch(` https://youtube.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&chart=mostPopular&regionCode=IN&key=AIzaSyB3rRJKCb51GUs36AW1WbbnmRWGXzB5h-E&maxResults=20`

        );

        let data = await result.json();
        // console.log('data:', data)
        // console.log('data:', data.items);
        // console.log(data.items[0].id);
        // console.log(data.items[1].id);


        for(a of data.items) {
            let Id= a.id;

            let frame = document.createElement("iframe");
            frame.src = `https://www.youtube.com/embed/${Id}`;
            frame.allow = `fullscreen`
            div.appendChild(frame);
            
        }


       
        
       



        




    }
    showPopular()
</script>